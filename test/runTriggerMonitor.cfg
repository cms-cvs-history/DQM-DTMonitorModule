process MONITOR = {    

	#include "CondCore/DBCommon/data/CondDBSetup.cfi"

	#Geometry
	include "Geometry/DTGeometry/data/dtGeometry.cfi"

	source = PoolSource{

        untracked vstring fileNames = {
            #'file:MuonRecHit.root'
            'file:/afs/infn.it/bo/user/cmstb/public/MTCC/phaseII/rechit4D_4269.root'
            #'file:/afs/infn.it/bo/user/cmstb/public/MTCC/phaseII/rec4269bis.root'
        }
        untracked int32 maxEvents = -1
        untracked uint32 debugVebosity = 10
        untracked bool   debugFlag     = true
    	}	

        # TriggerMonitor
        module dtTriggerMonitor = DTLocalTriggerTask {
                untracked bool debug = true
	        untracked string outputFile = "DTLocalTriggerSources.root"
		untracked string dcc_label = "dttpgprod"
		untracked string ros_label = "dtunpacker"
		untracked string seg_label = "dt4DSegments"
		untracked bool process_dcc = false
		untracked bool process_seg = true
		untracked bool process_ros = true 
		untracked bool localrun = true
             	untracked bool writeHisto = true
        }


	 service = DaqMonitorROOTBackEnd{ }
        	
        service = MonitorDaemon{
          # if true, will automatically start DQM thread in background
          # (default: false)
          untracked bool AutoInstantiate = true
        
          # if >=0, upon a connection problem, the source will automatically 
          # attempt to reconnect with a time delay (secs) specified here 
          # (default: 5)
          untracked int32 reconnect_delay = 5
        
          # collector hostname
          # (default: localhost)
          untracked string DestinationAddress = "localhost"
        
          # port for communicating with collector
          # (default: 9090)
          untracked int32 SendPort = 9090
        
          # monitoring period in ms (i.e. how often monitoring elements 
          # are shipped to the collector
          # (default: 1000)
          untracked int32 UpdateDelay = 1000
        
          # name of DQM source
          # (default: DQMSource)
          untracked string NameAsSource = "FU0"
        }

#	include "MessageLogger.cfi"
	

	service = DQMShipMonitoring{
            // event-period for shipping monitoring to collector (default: 25)
             untracked uint32 period = 1000
        }


       path p = {dtTriggerMonitor}
	
}


